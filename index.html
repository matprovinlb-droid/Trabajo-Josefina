<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Test tipo MBTI</title>
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#111827">
  <style>
    body { font-family: system-ui, Arial, sans-serif; margin: 0; background:#f3f4f6; color:#111827;}
    .wrap { max-width: 820px; margin: 0 auto; padding: 18px; }
    .card { background: white; border-radius: 16px; padding: 18px; box-shadow: 0 6px 18px rgba(0,0,0,.08); }
    h1 { font-size: 22px; margin: 0 0 10px; }
    .muted { color:#6b7280; }
    .qnum { font-weight: 700; }
    .qtext { font-size: 20px; margin: 12px 0 10px; }
    .opt { display:block; padding: 12px; border:1px solid #e5e7eb; border-radius: 12px; margin: 10px 0; cursor:pointer; }
    .opt input { transform: scale(1.3); margin-right: 10px; }
    .row { display:flex; gap:10px; flex-wrap:wrap; margin-top: 14px; }
    button { border:0; border-radius: 12px; padding: 12px 14px; cursor:pointer; font-size: 16px; }
    .btn { background:#111827; color:white; }
    .btn2 { background:#e5e7eb; }
    .btn3 { background:#10b981; color:white; }
    .bar { height: 10px; background:#e5e7eb; border-radius:999px; overflow:hidden; margin: 10px 0 0; }
    .bar > div { height: 100%; background:#111827; width:0%; }
    .result { font-size: 22px; font-weight: 800; }
    textarea { width:100%; height: 140px; border-radius: 12px; border:1px solid #e5e7eb; padding: 10px; font-family: ui-monospace, Menlo, Consolas, monospace; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Test tipo MBTI (A/B)</h1>
      <div class="muted" id="status">Cargandoâ€¦</div>
      <div class="bar"><div id="barFill"></div></div>

      <div style="margin-top:14px;">
        <div class="qnum" id="qnum"></div>
        <div class="qtext" id="qstem"></div>

        <label class="opt"><input type="radio" name="ans" value="A" /> <span id="aText"></span></label>
        <label class="opt"><input type="radio" name="ans" value="B" /> <span id="bText"></span></label>
      </div>

      <div class="row">
        <button class="btn2" id="prevBtn">Anterior</button>
        <button class="btn" id="nextBtn">Siguiente</button>
        <button class="btn3" id="finishBtn">Finalizar</button>
      </div>
    </div>

    <div class="card" style="margin-top:14px; display:none;" id="resultCard">
      <div class="result" id="resultType"></div>
      <div class="muted" id="resultDetail" style="margin-top:8px;"></div>

      <div style="margin-top:12px;">
        <button class="btn" id="copyBtn">Copiar resultado</button>
        <button class="btn2" id="resetBtn">Reiniciar</button>
      </div>

      <div style="margin-top:12px;">
        <div class="muted">Texto para enviar por WhatsApp / mail:</div>
        <textarea id="shareText" readonly></textarea>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    // PWA offline
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').catch(()=>{});
    }
  </script>
</body>
</html>
